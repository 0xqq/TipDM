package com.tipdm.framework.dmserver.websocket;

import com.corundumstudio.socketio.AckRequest;
import com.corundumstudio.socketio.SocketIOClient;
import com.corundumstudio.socketio.listener.DataListener;
import com.google.common.collect.BiMap;

/**
 * Created by TipDM on 2018/1/13.
 * E-mail:devp@tipdm.com
 * 监听流程调度
 */
public class WorkFlowScheduleListener implements DataListener {

    private BiMap<String, String> clients;

    public WorkFlowScheduleListener(BiMap<String, String> clients){
        this.clients = clients;
    }

    @Override
    public void onData(SocketIOClient client, Object data, AckRequest ackRequest) throws Exception {
        //映射
        clients.forcePut(client.getSessionId().toString(), (String) data);
    }
}
